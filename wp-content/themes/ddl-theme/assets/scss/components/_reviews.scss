/*-----------------------------------------------------------------------------------*/
/* MODULES */
/*-----------------------------------------------------------------------------------*/

@use 'abstracts/functions' as *;
@use 'abstracts/utility' as *;
@use 'abstracts/variables' as *;
@use 'abstracts/media' as *;
@use 'partials/button' as *;


/*-----------------------------------------------------------------------------------*/
/* STYLES */
/*-----------------------------------------------------------------------------------*/

.reviews {
  position: relative;

  &--top {
    padding-top: var(--space-y);
  }

  &--bottom {
    padding-bottom: var(--space-y);
  }

  &__top {
    display: flex;
    align-items: center;
    padding: 0 var(--space-x) var(--space-gutter);

    @include media-down(md) {
      text-align: center;
    }

  }

  &__left {
    flex: 1 0 0;
  }

  &__right {
    flex: 0 0 auto;

    @include media-down(md) {
      display: none;
    }

  }

  &__heading {
    font-size: var(--h2);
    font-weight: var(--bold);
    margin: 0 0 1.5rem;

    @include media-up(md) {
      margin: 0 0 2rem;
    }

  }

  &__lead {
    font-size: var(--h4);
    margin: 0;
  }

  &__scroller {

    @include media-min(1800px) {
      padding: 0 var(--space-x);
    }

  }

  &__list {
    list-style: none;
    display: flex;
    flex-wrap: wrap;
    padding: 0;
    gap: $gap;

    @include media-max(1800px) {
      flex-wrap: nowrap;
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;

      &::-webkit-scrollbar {
        display: none;
      }

    }

    @include media-max(1800px) {

      @include hover {
        cursor: grab;
        cursor: -webkit-grab;
      }

      &--active {
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;

        @include hover {
          cursor: grabbing;
          cursor: -webkit-grabbing;
        }

      }

    }

  }

  &__item {
    flex: 0 0 auto;
    width: 50vw;
    min-width: 30rem;

    @include media-up(sm) {
      width: 50vw;
    }

    @include media-up(md) {
      width: 40vw;
    }

    @include media-min(1800px) {
      flex: 1 0 0;
      width: auto;
    }

    @include media-max(1800px) {

      &:first-child {
        margin-left: var(--space-x);
      }

      &:last-child {
        margin-right: var(--space-x);
      }
    
    }

  }

  &__row {
    padding: #{fluid(20px, 40px)};
    border-radius: var(--reviews-radius-sm);
    flex-direction: column;
    justify-content: space-between;
    height: 100%;
    display: flex;
    gap: $gap;

    @include media-up(sm) {
      border-radius: var(--reviews-radius-lg);
    }

  }

  &__link,
  &__logo {
    text-decoration: none;
  }

  &__author {
    font-weight: var(--bold);
    margin: 0 0 1rem;
  }

  &__stars {
    display: flex;
    margin: 0 0 1rem;
  }

  .icon--star {

    svg {
      fill: var(--star);
    }

  }

  &__logo {
    display: flex;
    flex-direction: column;
    color: var(--primary);
    font-size: 70%;
    margin-top: 2rem;

    &--google {
      width: 9rem;

      @include media-up(sm) {
        width: 11rem;
      }

    }

    &--facebook {
      width: 11rem;

      @include media-up(sm) {
        width: 13rem;
      }

    }

    &--trustpilot {
      width: 13rem;

      @include media-up(sm) {
        width: 15rem;
      }

    }

    span {
      margin-bottom: 1rem;
      opacity: 0.8;
    }

    img {
      @include object-fit (contain);
      @include object-position (center);
      width: 100%;
      height: 100%;
    }

  }

  .more__text,
  .btn--more {
    padding: 0;
  }

  .btn--more {
    justify-content: flex-start;
    margin-top: var(--paragraph-bottom-sm);

    @include media-up(sm) {
      margin-top: var(--paragraph-bottom-lg);
    }

  }

  &__bottom {
    padding: var(--space-gutter) var(--space-x) 0;

    @include media-up(md) {
      display: none;
    }

    .btn {
      margin-left: auto;
      margin-right: auto;
    }

  }

  &--primary {
    background: var(--primary);
    color: var(--white);

    .reviews {

      &__row {
        background: var(--white);
        color: var(--black);
      }

    }

    .btn {

      &:not(.btn--more) {
        @include btn-secondary-wo;
      }

      &--more {

        .icon {
  
          svg {
            fill: var(--secondary);
          }
    
        }

      }

    }

  }

  &--secondary {
    background: var(--secondary);
    color: var(--white);

    .reviews {

      &__row {
        background: var(--white);
        color: var(--black);
      }

    }

    .btn {

      &:not(.btn--more) {
        @include btn-primary-wo;
      }

      &--more {

        .icon {
  
          svg {
            fill: var(--secondary);
          }
    
        }

      }

    }

  }

  &--white {
    background: var(--white);
    color: var(--primary);

    .reviews {

      &__row {
        background: var(--white);
        color: var(--black);
      }

    }

    .reviews {

      &__row {
        background: var(--grey-light);
      }

    }

    .btn {

      &:not(.btn--more) {
        @include btn-primary;
      }

      &--more {

        .icon {
  
          svg {
            fill: var(--secondary);
          }
    
        }

      }

    }

  }

}